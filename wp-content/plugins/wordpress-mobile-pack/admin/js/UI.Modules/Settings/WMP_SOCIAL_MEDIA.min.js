function WMP_SOCIAL_MEDIA(){var e=this;this.type="wmp_socialmedia",this.form,this.DOMDoc,this.send_btn,this.init=function(){WMPJSInterface=window.parent.WMPJSInterface,this.send_btn=jQuery("#"+this.type+"_send_btn",this.DOMDoc).get(0),this.form=this.DOMDoc.getElementById(this.type+"_form"),this.addButtonsActions(),this.form},this.addButtonsActions=function(){jQuery("#"+e.type+"_facebook_check",e.DOMDoc).change(function(){this.checked?jQuery("#wmp_option_enable_facebook",e.DOMDoc).val("1"):jQuery("#wmp_option_enable_facebook",e.DOMDoc).val("0")}),jQuery("#"+e.type+"_twitter_check",e.DOMDoc).change(function(){this.checked?jQuery("#wmp_option_enable_twitter",e.DOMDoc).val("1"):jQuery("#wmp_option_enable_twitter",e.DOMDoc).val("0")}),jQuery("#"+e.type+"_google_check",e.DOMDoc).change(function(){this.checked?jQuery("#wmp_option_enable_google",e.DOMDoc).val("1"):jQuery("#wmp_option_enable_google",e.DOMDoc).val("0")}),jQuery(this.send_btn).unbind("click"),jQuery(this.send_btn).bind("click",function(){e.disableButton(this),e.sendData()}),e.enableButton(this.send_btn),jQuery("#"+e.form.id,e.DOMDoc).bind("keypress",function(e){if(13==e.keyCode)return!1})},this.enableButton=function(e){jQuery(e).css("cursor","pointer"),jQuery(e).animate({opacity:1},100)},this.disableButton=function(e){jQuery(e).unbind("click"),jQuery(e).animate({opacity:.4},100),jQuery(e).css("cursor","default")},this.submitForm=function(){return WMPJSInterface.AjaxUpload.dosubmit(e.form,{onStart:e.startUploadingData,onComplete:e.completeUploadingData})},this.sendData=function(){jQuery("#"+this.form.id,this.DOMDoc).unbind("submit"),jQuery("#"+this.form.id,this.DOMDoc).bind("submit",function(){e.submitForm()}),jQuery("#"+this.form.id,this.DOMDoc).submit(),e.disableButton(e.send_btn)},this.startUploadingData=function(){return WMPJSInterface.Preloader.start(),setTimeout(function(){var t=e.form.elements;for(nElems=t.length,j=0;j<nElems;j++)t[j].disabled=!0},300),!0},this.completeUploadingData=function(t){if(jQuery("#"+e.form.id,e.DOMDoc).unbind("submit"),jQuery("#"+e.form.id,e.DOMDoc).bind("submit",function(){return!1}),WMPJSInterface.Preloader.remove(100),1==(t=Boolean(Number(String(t))))){var n="Your app has been successfully modified!";WMPJSInterface.Loader.display({message:n})}else{n="There was an error. Please reload the page and try again.";WMPJSInterface.Loader.display({message:n})}setTimeout(function(){var t=e.form.elements;for(nElems=t.length,j=0;j<nElems;j++)t[j].disabled=!1},300),e.addButtonsActions()}}